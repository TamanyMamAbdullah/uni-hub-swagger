openapi: 3.0.3
info:
  title: Uni Hub API
  description: Mock API for Uni Hub Platform
  version: 1.0.0
  contact:
    name: Uni Hub Team
    url: https://unihub.university
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: /
    description: GitHub Pages URL

tags:
  - name: Authentication
    description: User authentication and authorization
  - name: Users
    description: User profiles and management
  - name: Posts
    description: Posts and interactions
  - name: Messaging
    description: Direct messaging system
  - name: Q&A
    description: Questions and answers
  - name: Events
    description: Events and calendar
  - name: Marketplace
    description: Buy and sell items
  - name: Resources
    description: File and resource sharing
  - name: Notifications
    description: User notifications

paths:
  # ========== AUTHENTICATION ==========
  /api/v1/auth/register:
    post:
      tags: [Authentication]
      summary: Register new user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                password:
                  type: string
                  minLength: 8
                firstName:
                  type: string
                lastName:
                  type: string
                role:
                  type: string
                  enum: [student, teacher, department]
      responses:
        "201":
          description: User registered successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
              examples:
                register-success:
                  $ref: "./mocks/auth/register.json"

  /api/v1/auth/login:
    post:
      tags: [Authentication]
      summary: Login user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                password:
                  type: string
      responses:
        "200":
          description: Login successful
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
              examples:
                login-success:
                  $ref: "./mocks/auth/login.json"

  # ========== USERS ==========
  /api/v1/users/{userId}:
    get:
      tags: [Users]
      summary: Get user profile
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: User profile retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
              examples:
                user-profile:
                  $ref: "./mocks/users/123.json"

  /api/v1/users/search:
    get:
      tags: [Users]
      summary: Search users
      parameters:
        - name: q
          in: query
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: Users search results
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
              examples:
                search-results:
                  $ref: "./mocks/users/search.json"

  # ========== POSTS ==========
  /api/v1/posts/feed:
    get:
      tags: [Posts]
      summary: Get user feed
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
        - name: type
          in: query
          schema:
            type: string
            enum: [following, discover, trending]
      responses:
        "200":
          description: Feed retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
              examples:
                feed-data:
                  $ref: "./mocks/posts/feed.json"

  /api/v1/posts/{postId}:
    get:
      tags: [Posts]
      summary: Get post details
      parameters:
        - name: postId
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Post retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
              examples:
                post-details:
                  $ref: "./mocks/posts/456.json"

  # ========== MESSAGING ==========
  /api/v1/messages/conversations:
    get:
      tags: [Messaging]
      summary: Get user conversations
      responses:
        "200":
          description: Conversations list
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
              examples:
                conversations:
                  $ref: "./mocks/messages/conversations.json"

  # ========== Q&A ==========
  /api/v1/qa/questions:
    get:
      tags: [Q&A]
      summary: Get questions
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
        - name: tag
          in: query
          schema:
            type: string
      responses:
        "200":
          description: Questions list
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
              examples:
                questions:
                  $ref: "./mocks/qa/questions.json"

  # ========== EVENTS ==========
  /api/v1/events:
    get:
      tags: [Events]
      summary: Get events
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
        - name: category
          in: query
          schema:
            type: string
      responses:
        "200":
          description: Events list
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
              examples:
                events:
                  $ref: "./mocks/events/list.json"

  # ========== MARKETPLACE ==========
  /api/v1/marketplace/listings:
    get:
      tags: [Marketplace]
      summary: Get marketplace listings
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
        - name: category
          in: query
          schema:
            type: string
      responses:
        "200":
          description: Marketplace listings
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
              examples:
                listings:
                  $ref: "./mocks/marketplace/listings.json"

  # ========== NOTIFICATIONS ==========
  /api/v1/notifications:
    get:
      tags: [Notifications]
      summary: Get user notifications
      responses:
        "200":
          description: Notifications list
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
              examples:
                notifications:
                  $ref: "./mocks/notifications/list.json"

components:
  schemas:
    SuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        data:
          type: object
        meta:
          type: object
          properties:
            page:
              type: integer
            limit:
              type: integer
            total:
              type: integer
            hasMore:
              type: boolean
        timestamp:
          type: string
          format: date-time

    ErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: object
          properties:
            code:
              type: string
            message:
              type: string
            details:
              type: array
              items:
                type: object
                properties:
                  field:
                    type: string
                  message:
                    type: string
        timestamp:
          type: string
          format: date-time

  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
